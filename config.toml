[[subject_rules]]
pattern = "(?i)Price alert:"
description = "Coinbase price alerts"
folder = "INBOX/Notifications/Trades"

[[sender_rules]]
pattern = "(?i)^no[-_]?reply@.*"
description = "Automated emails"
folder = "INBOX/Notifications"

[[sender_rules]]
pattern = "(?i)email.nextdoor.com"
description = "Nextdoor emails"
folder = "INBOX/Promotions"

[[sender_rules]]
pattern = "(?i)notifications-noreply@linkedin.com"
description = "Linkedin Emails"
folder = "INBOX/Notifications"

[[sender_rules]]
pattern = "(?i)serasa@novidades.serasa.com.br"
description = "serasa"
folder = "INBOX/Promotions"

[[sender_rules]]
pattern = "(?i)support@e.usa.experian.com"
description = "Experian"
folder = "INBOX/Documents"

[[sender_rules]]
pattern = "(?i)bingo@patreon.com"
description = "Maverick"
folder = "INBOX/Documents/Payments"

[[sender_rules]]
pattern = "(?i)store-news@amazon.com"
description = "Amazon"
folder = "INBOX/Promotions"

[[sender_rules]]
pattern = "(?i)noreply@tradingview.com"
description = "TradingView"
folder = "INBOX/Notifications/Trades"

[[sender_rules]]
pattern = "(?i)hello@ohmconnect.com"
description = "OhmConnect"
folder = "INBOX/Documents/Bills"

[[sender_rules]]
pattern = "(?i)vbs@transactional.vanguard.com"
description = "Vanguard transactions"
folder = "INBOX/Notifications/Trades"

[[sender_rules]]
pattern = "(?i)email@washingtonpost.com"
description = "The Washington Post"
folder = "INBOX/News"

[[sender_rules]]
pattern = "(?i)auto-reply@usps.com"
description = "USPS"
folder = "INBOX/Notifications"

[[sender_rules]]
pattern = "(?i)DoNotReply@billpay.pge.com"
description = "PG&E"
folder = "INBOX/Documents/Bills"

[[sender_rules]]
pattern = "(?i)update@emailff.att-mail.com"
description = "ATT"
folder = "INBOX/Documents/Bills"

[[sender_rules]]
pattern = "(?i)no_reply@bayareafastrak.org"
description = "Fasttrack"
folder = "INBOX/Documents/Bills"

[[sender_rules]]
pattern = "(?i)noreply@paymentcenter.ebmud.com"
description = "EBMUD"
folder = "INBOX/Documents/Bills"

[[sender_rules]]
pattern = "(?i)no_reply@email.apple.com"
description = "Apple"
folder = "INBOX/Documents/Bills"

[[sender_rules]]
pattern = "(?i)purchase"
description = "Random purchases"
folder = "INBOX/Documents/Bills"

[[sender_rules]]
pattern = "(?i)@calottery.com"
description = "California Lottery Promotions"
folder = "INBOX/Promotions"

[[subject_rules]]
pattern = "(?i)\\b(Lottery|Jackpot|Winner|Promotion|Claim|Cash Prize)\\b"
description = "Lottery-related subjects"
folder = "INBOX/Promotions"

# AI prompt configuration
ai_prompt = """
You are an email classification assistant. Your ONLY task is to assign emails to EXISTING folders.

===AVAILABLE FOLDERS===
The ONLY valid folders you can use are listed below. You MUST use EXACT spelling, capitalization, and the EXACT path as shown.
{folders_list}

===DEFAULT FOLDER===
If you're unsure where to file an email, ALWAYS use this default folder: {default_target_folder}.

INSTRUCTIONS:
1. Look at the email's subject, sender, headers and content
2. Select ONE folder from the AVAILABLE FOLDERS list above - use EXACT spelling, capitalization, and path as shown in the list
3. If uncertain, use the DEFAULT FOLDER
4. Provide a brief reason
5. Remember that the objective is to clean up your inbox, so if the email is not important, move it to another folder.
6. Many emails are notifications, but attempt to classify them in one of the other folders first.

Your response must be ONLY this JSON format:
{
    "target_folder": "EXACT_FOLDER_NAME_FROM_LIST",
    "reason": "Brief explanation"
}

EXAMPLE OF CORRECT RESPONSE:
{
    "target_folder": "INBOX/Notifications",
    "reason": "Subject contains 'Notification' and sender is 'notifications@github.com', that's a notification email"
}

Base your decision on the email's subject, sender, headers, and body content.
Consider factors like:
- Is it a newsletter or promotional content?
- Is it from a known sender or organization?
- What is the main topic or purpose of the email?
- Are there any specific keywords or patterns that indicate its category?
- Does it look like it is an actual person, not an automated message? In that case, it should remain in INBOX
- Note: Specialized folders like 'TrueNAS - Alerts' are ONLY for alerts coming from TrueNAS, they MUST NOT be used for other emails. Folders under 'Lists' are for their respective mailing lists.

CRITICAL: You MUST select a folder from the EXACT list provided. DO NOT modify folder names or paths in any way.
DO NOT add, remove, or change any part of the folder name. Use the COMPLETE folder path exactly as shown.
For example, if the list contains 'INBOX/Trades' but not 'Trades', you MUST use 'INBOX/Trades'.

VERIFICATION: Before responding, verify that your 'target_folder' is an EXACT copy-paste of one of the available folders listed above.
"""

server = "imap.fastmail.com"
username = "user@fastmail.com"
target_folder = "INBOX/Newsletters"
use_hybrid = true
